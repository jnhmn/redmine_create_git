<%
   repo_url=@settings[:repo_url]
   if (@settings[:repo_url].nil? and not Setting.find_by_name('host_name').nil? and not Setting.find_by_name('protocol').nil?)
     repo_url=Setting.find_by_name('protocol').value+'://'+Setting.find_by_name('host_name').value+'/git/'
   end
%>
<p>
  <label><%= l('labels.path_to_git_repository') %></label>
  <%= text_field_tag 'settings[git_repo_path]', @settings[:git_repo_path] %>
  <em class="info"> <%= l('help.field_git_repo_path') %></em>
</p>
<p>
  <label><%= l('labels.path_to_svn_repository') %></label>
  <%= text_field_tag 'settings[svn_repo_path]', @settings[:svn_repo_path] %>
  <em class="info"> <%= l('help.field_svn_repo_path') %></em>
</p>
<p>
  <label><%= l('labels.gitignore') %></label>
  <%= text_area_tag 'settings[gitignore]', @settings[:gitignore], rows: 5 %>
  <em class="info"> <%= l('help.field_gitignore') %></em>
</p>
<p>
  <label><%= l('labels.branches') %></label>
  <%= text_area_tag 'settings[branches]', @settings[:branches], rows: 5 %>
  <em class="info"> <%= l('help.field_branches') %></em>
</p>
<p>
  <label><%= l('labels.repo_url') %></label>
  <%= text_field_tag 'settings[repo_url]', repo_url %>
  <em class="info"> <%= l('help.field_repo_url') %></em>
</p>
<p>
  <label><%= l('labels.enable_commit_hook') %></label>
  <%= check_box_tag 'settings[enable_commit_hook]', "1", @settings[:enable_commit_hook] %>
  <em class="info"> <%= l('help.field_enable_commit_hook') %></em>
</p>
<p>
  <label><%= l('labels.commit_hook_ssl') %></label>
  <%= check_box_tag 'settings[commit_hook_ssl]', "1",  @settings[:commit_hook_ssl] %>
  <em class="info"> <%= l('help.field_commit_hook_ssl') %></em>
</p>
